# 安装

## 编译安装

### Ubuntu

#### 安装依赖

```shell
sudo apt install git curl cmake make gcc lld pkg-config libssl-dev libclang-dev libsqlite3-dev g++ protobuf-compiler
```

#### 安装 Rust

```shell
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

#### 克隆源码

```shell
git clone https://github.com/rooch-network/rooch.git
```

#### 编译并安装 Rooch

```shell
cd rooch && cargo build && cp target/debug/rooch ~/.cargo/bin/
```

### Windows

#### 安装依赖

要在Windows上编译Rooch，您需要安装以下依赖项：

1. [Build Tools for Visual Studio 2022](https://visualstudio.microsoft.com/downloads/)
2. [LLVM](https://github.com/llvm/llvm-project/releases/tag/llvmorg-17.0.1)
3. [Git](https://git-scm.com/downloads)

请确保安装这些依赖项并设置必要的环境变量。

#### 安装 Rust

下载安装 Windows Rust 工具链 [https://static.rust-lang.org/rustup/dist/x86_64-pc-windows-msvc/rustup-init.exe](https://static.rust-lang.org/rustup/dist/x86_64-pc-windows-msvc/rustup-init.exe)

#### 克隆源码

```shell
git clone https://github.com/rooch-network/rooch.git
```

#### 编译并安装 Rooch

```shell
cd rooch
```

```shell
cargo build
```

```shell
cp target/debug/rooch.exe ~/.cargo/bin/
```

### macOS
#### 第一步，从 [github release page](https://github.com/rooch-network/rooch/releases) 下载 
`rooch-macos-latest.zip`，解压文件并将二进制文件移动到 `~/.local/bin/` 中

#### 第二步，克隆源码

```shell
git clone https://github.com/rooch-network/rooch.git
```

#### 第三步，先到`rooch`目录下面，执行下面命令(会进行下载，时间比较久)
```shell
cargo build
```
如果遇到报错
```shell
Error: Could not find `protoc`. If `protoc` is installed, try setting the `PROTOC` environment variable to the path of the `protoc` binary. To install it on macOS, run `brew install protobuf`. It is also available at https://github.com/protocolbuffers/protobuf/releases  For more information: https://docs.rs/prost-build/#sourcing-protoc
```
执行命令下载`protobuf`，下载成功后重新执行`cargo build`
```shell
brew install protobuf
```

#### 第四步，打开一个新的终端窗口并运行 `rooch` 检查是否工作
```shell
rooch
```



## 二进制安装

### MacOS
#### 第一步，创建一个二进制文件目录

首先，创建一个二进制文件目录

```shell
mkdir ~/.local/bin/ 
```

第二步，将二进制文件目录添加到 `~/.zshrc` 中

```shell
export PATH="$PATH:$HOME/.local/bin"
```

第三步，从 [github release page](https://github.com/rooch-network/rooch/releases) 下载 
`rooch-macos-latest.zip`，解压文件并将二进制文件移动到 `~/.local/bin/` 中

最后，打开一个新的终端窗口并运行 `rooch` 检查是否工作
```
如果运行的时候出现下面报错
```shell
zsh: command not found: rooch
```
大概率是在第二步出现的问题，可能是由于路径问题或者是忘记保存配置问题，可以参考这几个命令进行解决
```shell
# 确认 rooch 文件已存在
ls ~/.local/bin/rooch

# 确认 ~/.zshrc 文件中包含以下行
echo 'export PATH="$PATH:$HOME/.local/bin"' >> ~/.zshrc

# 重新加载 ~/.zshrc 文件
source ~/.zshrc

# 验证 PATH 环境变量
echo $PATH

# 运行 rooch
rooch

```



### Linux

#### 下载

```shell
wget https://github.com/rooch-network/rooch/releases/latest/download/rooch-ubuntu-latest.zip
```

#### 解压

```shell
unzip rooch-ubuntu-latest.zip
```

#### 安装

```shell
sudo cp rooch /usr/local/bin
```
